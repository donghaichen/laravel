webpackJsonp([1],{"+skl":function(t,e){},"7Xp9":function(t,e,a){"use strict";var n={render:function(){var t=this.$createElement;return(this._self._c||t)("i-footer",{staticClass:"layout-footer-center"},[this._v("2011-2016 © TalkingData")])},staticRenderFns:[]};var i=a("VU/8")({name:"Footer",data:function(){return{}}},n,!1,function(t){a("gtWv")},"data-v-3f000224",null);e.a=i.exports},"9Dws":function(t,e){},GnUe:function(t,e,a){"use strict";var n=a("pFYg"),i=a.n(n);!function(t){if(void 0===t)throw new Error("Geetest requires browser environment");var e=t.document,a=t.Math,n=e.getElementsByTagName("head")[0];function o(t){this._obj=t}function s(t){var e=this;new o(t)._each(function(t,a){e[t]=a})}o.prototype={_each:function(t){var e=this._obj;for(var a in e)e.hasOwnProperty(a)&&t(a,e[a]);return this}},s.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){return r(this.type)?this.fallback_config[this.type]:this.new_captcha?this.fallback_config.fullpage:this.fallback_config.slide},_extend:function(t){var e=this;new o(t)._each(function(t,a){e[t]=a})}};var r=function(t){return"string"==typeof t},l=function(t){return"object"===(void 0===t?"undefined":i()(t))&&null!==t},c={},d={},u=function(t,e,a,n){e=function(t){return t.replace(/^https?:\/\/|\/$/g,"")}(e);var i=function(t){return 0!==(t=t.replace(/\/+/g,"/")).indexOf("/")&&(t="/"+t),t}(a)+function(t){if(!t)return"";var e="?";return new o(t)._each(function(t,a){(r(a)||function(t){return"number"==typeof t}(a)||function(t){return"boolean"==typeof t}(a))&&(e=e+encodeURIComponent(t)+"="+encodeURIComponent(a)+"&")}),"?"===e&&(e=""),e.replace(/&$/,"")}(n);return e&&(i=t+e+i),i},p=function(t,a,i,o,s){!function r(l){!function(t,a){var i=e.createElement("script");i.charset="UTF-8",i.async=!0,i.onerror=function(){a(!0)};var o=!1;i.onload=i.onreadystatechange=function(){o||i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(o=!0,setTimeout(function(){a(!1)},0))},i.src=t,n.appendChild(i)}(u(t,a[l],i,o),function(t){t?l>=a.length-1?s(!0):r(l+1):s(!1)})}(0)},h=function(e,n,i,o){if(l(i.getLib))return i._extend(i.getLib),void o(i);if(i.offline)o(i._get_fallback_config());else{var s="geetest_"+(parseInt(1e4*a.random())+(new Date).valueOf());t[s]=function(e){"success"==e.status?o(e.data):e.status?o(i._get_fallback_config()):o(e),t[s]=void 0;try{delete t[s]}catch(t){}},p(i.protocol,e,n,{gt:i.gt,callback:s},function(t){t&&o(i._get_fallback_config())})}},m=function(t,e){var a={networkError:"�������",gtTypeError:"gt�ֶβ����ַ�������"};if("function"!=typeof e.onError)throw new Error(a[t]);e.onError(a[t])};(t.Geetest||e.getElementById("gt_lib"))&&(d.slide="loaded"),t.initGeetest=function(e,a){var n=new s(e);e.https?n.protocol="https://":e.protocol||(n.protocol=t.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==e.gt&&"3bd38408ae4af923ed36e13819b14d42"!==e.gt||(n.apiserver="yumchina.geetest.com/",n.api_server="yumchina.geetest.com"),l(e.getType)&&n._extend(e.getType),h([n.api_server||n.apiserver],n.typePath,n,function(e){var i=e.type,o=function(){n._extend(e),a(new t.Geetest(n))};c[i]=c[i]||[];var s=d[i]||"init";"init"===s?(d[i]="loading",c[i].push(o),p(n.protocol,e.static_servers||e.domains,e[i]||e.path,null,function(t){if(t)d[i]="fail",m("networkError",n);else{d[i]="loaded";for(var e=c[i],a=0,o=e.length;a<o;a+=1){var s=e[a];"function"==typeof s&&s()}c[i]=[]}})):"loaded"===s?o():"fail"===s?m("networkError",n):"loading"===s&&c[i].push(o)})}}(window)},LYp2:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("layout",[a("i-header",[a("i-menu",{attrs:{mode:"horizontal",theme:"dark","active-name":this.$store.state.activename}},[a("router-link",{attrs:{to:"/"}},[a("div",{staticClass:"layout-logo"})]),t._v(" "),a("div",{staticClass:"layout-nav"},[a("router-link",{attrs:{to:"/"}},[a("menu-item",{attrs:{name:"1"}},[a("Icon",{attrs:{type:"md-home"}}),t._v("\n                              主页\n                          ")],1)],1),t._v(" "),a("router-link",{attrs:{to:"/login"}},[a("menu-item",{attrs:{name:"2"}},[a("icon",{attrs:{type:"ios-keypad"}}),t._v("\n                              登录\n                          ")],1)],1),t._v(" "),a("router-link",{attrs:{to:"/register"}},[a("menu-item",{attrs:{name:"3"}},[a("icon",{attrs:{type:"ios-analytics"}}),t._v("\n                              注册\n                          ")],1)],1),t._v(" "),a("menu-item",{attrs:{name:"4"}},[a("Icon",{attrs:{type:"ios-person"}}),t._v("\n                          个人中心\n                      ")],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")({name:"Header",data:function(){return{}}},n,!1,function(t){a("h7o9")},"data-v-19974aa0",null);e.a=i.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},i,!1,function(t){a("sNbj")},null,null).exports,s=a("/ocq"),r=a("LYp2"),l=a("7Xp9"),c={name:"Index",components:{Header:r.a,Footer:l.a},data:function(){return{}},mounted:function(){this.$store.state.activename="1"}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Header"),this._v(" "),e("Footer")],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("9Dws")},"data-v-274ac756",null).exports,p=a("nKb+"),h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),t._v(" "),a("i-content",[a("div",{staticClass:"login_content",staticStyle:{height:"798px"}},[a("div",{staticClass:"login_content_wrap"},[a("div",{staticClass:"login_content_wrap_left"},[a("div",{staticClass:"login_name"},[t._v("欢迎登录")]),t._v(" "),a("div",{staticClass:"login_inp_warp"},[a("div",{staticClass:"login_inp_top"},[t._v("邮箱")]),t._v(" "),a("Input",{staticClass:"login_inp_sty",attrs:{type:"email",size:"large",clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),a("div",{staticClass:"login_inp_warp"},[a("div",{staticClass:"login_inp_top"},[t._v("密码")]),t._v(" "),a("Input",{staticClass:"login_inp_sty",attrs:{type:"password",size:"large",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("div",{staticClass:"login_inp_warp"},[a("div",{staticClass:"login_inp_top"},[t._v("验证")]),t._v(" "),a("div",{attrs:{id:"embed-captcha"}}),t._v(" "),a("p",{staticClass:"show",attrs:{id:"wait"}},[t._v("正在加载验证码......")]),t._v(" "),a("p",{staticClass:"hide",attrs:{id:"notice"}},[t._v("请先完成验证")])]),t._v(" "),a("div",{staticClass:"forget"},[a("router-link",{attrs:{to:"/"}},[t._v("忘记密码")])],1),t._v(" "),a("Button",{staticClass:"login_submit",attrs:{type:"primary",loading:t.loading,size:"large",id:"submitBtn"},on:{click:function(e){t.submitBtn()}}},[t.loading?a("span",[t._v("Loading...")]):a("span",[t._v("登录")])])],1)])])]),t._v(" "),a("Footer")],1)},staticRenderFns:[]};var m=function(t){a("rQcY")},g=a("VU/8")(p.a,h,!1,m,"data-v-0ed3f9a6",null).exports,f={name:"Register",data:function(){return{loading:!1,email:"",emailCode:"",password:"",passwordTwo:"",single:!1,emailCodeNum:"发送邮箱验证码",emailCodeBtn:0,timeNum:60}},components:{Header:r.a,Footer:l.a},methods:{emailCodeFun:function(){var t=this,e=this.$store.state.emailVerify;if(this.email.length)if(e.test(this.email)){if(0!=this.emailCodeBtn)return this.$Modal.error({title:"警告",scrollable:!0,content:"请勿重复点击"}),!1;this.emailCodeBtn=1,this.http(this.ApiSetting.emailCode,{email:this.email}).then(function(e){t.loading=!1,0===e.data.code&&t.$Modal.error({title:"提示",scrollable:!0,content:"发送成功"})},function(t){console.log(t)}),this.emailCodeNum=this.timeNum+" S";var a=setInterval(function(){t.timeNum--,t.emailCodeNum=t.timeNum+" S",t.timeNum<=0&&(t.emailCodeNum="重新发送",clearInterval(a),t.emailCodeBtn=0,t.timeNum=60)},1e3)}else this.$Modal.error({title:"警告",scrollable:!0,content:"请检查邮箱格式"});else this.$Modal.error({title:"警告",scrollable:!0,content:"请先填写邮箱"})},submitBtn:function(){var t=this,e=this.$store.state.emailVerify;this.email.length?e.test(this.email)?this.emailCode.length?this.password.length?this.passwordTwo.length?this.passwordTwo.length<6?this.$Modal.error({title:"警告",scrollable:!0,content:"密码不得低于四位"}):this.password.length!==this.passwordTwo.length?this.$Modal.error({title:"警告",scrollable:!0,content:"两次填写密码不一致"}):this.single?(this.loading=!0,this.http(this.ApiSetting.register,{email:this.email,code:this.emailCode,password:this.password,confirm_password:this.passwordTwo}).then(function(e){t.loading=!1,0===e.data.code&&(t.loading=!1,t.$Modal.error({title:"提示",scrollable:!0,content:"注册成功"}),t.$router.push({path:"/login"}))},function(t){console.log(t)})):this.$Modal.error({title:"警告",scrollable:!0,content:"用户协议未确认"}):this.$Modal.error({title:"警告",scrollable:!0,content:"请确认密码"}):this.$Modal.error({title:"警告",scrollable:!0,content:"请填写您的密码"}):this.$Modal.error({title:"警告",scrollable:!0,content:"请填写邮箱验证码"}):this.$Modal.error({title:"警告",scrollable:!0,content:"请检查邮箱格式"}):this.$Modal.error({title:"警告",scrollable:!0,content:"请填写邮箱"})}},mounted:function(){this.$store.state.activename="3"}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),t._v(" "),a("i-content",[a("div",{staticClass:"login_content",staticStyle:{height:"798px"}},[a("div",{staticClass:"login_content_wrap"},[a("div",{staticClass:"login_content_wrap_left"},[a("div",{staticClass:"login_inp_warp"},[a("div",{staticClass:"login_inp_top"},[t._v("邮箱")]),t._v(" "),a("Input",{staticClass:"login_inp_sty",attrs:{type:"email",size:"large",clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),a("div",{staticClass:"login_inp_warp"},[a("div",{staticClass:"login_inp_top"},[t._v("邮箱验证码")]),t._v(" "),a("Input",{staticClass:"login_inp_sty",attrs:{size:"large",search:"","enter-button":t.emailCodeNum},on:{"on-search":function(e){t.emailCodeFun()}},model:{value:t.emailCode,callback:function(e){t.emailCode=e},expression:"emailCode"}})],1),t._v(" "),a("div",{staticClass:"login_inp_warp"},[a("div",{staticClass:"login_inp_top"},[t._v("登录密码")]),t._v(" "),a("Input",{staticClass:"login_inp_sty",attrs:{type:"password",size:"large",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("div",{staticClass:"login_inp_warp"},[a("div",{staticClass:"login_inp_top"},[t._v("确认密码")]),t._v(" "),a("Input",{staticClass:"login_inp_sty",attrs:{type:"password",size:"large",clearable:""},model:{value:t.passwordTwo,callback:function(e){t.passwordTwo=e},expression:"passwordTwo"}})],1),t._v(" "),a("div",{staticClass:"login_agreement"},[a("Checkbox",{model:{value:t.single,callback:function(e){t.single=e},expression:"single"}},[t._v("我已阅读并同意\n              "),a("router-link",{attrs:{to:"/"}},[t._v("《用户协议》")])],1)],1),t._v(" "),a("Button",{staticClass:"login_submit",attrs:{type:"primary",loading:t.loading,size:"large"},on:{click:function(e){t.submitBtn()}}},[t.loading?a("span",[t._v("Loading...")]):a("span",[t._v("注册")])])],1),t._v(" "),a("div",{staticClass:"login_content_wrap_right"},[a("p",[t._v("国籍信息注册后不可修改，请务必如实选择。")]),t._v(" "),a("p",[t._v("验证邮件可能会被误判为垃圾邮件，请注意查收。")]),t._v(" "),a("p",[t._v("请妥善保存您的账号及登录密码。")]),t._v(" "),a("p",[t._v("请勿和其他网站使用相同的登录密码。")])])])])]),t._v(" "),a("Footer")],1)},staticRenderFns:[]};var _=a("VU/8")(f,v,!1,function(t){a("apQl")},"data-v-15dc1ab5",null).exports,w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("erro")])},staticRenderFns:[]};var b=a("VU/8")({name:"Erro"},w,!1,function(t){a("bBhg")},null,null).exports;n.default.use(s.a);var y=new s.a({routes:[{path:"/",name:"Index",component:u,meta:{title:"首页",requireAuth:!0}},{path:"/register",name:"Register",component:_,meta:{title:"注册"}},{path:"/login",name:"Login",component:g,meta:{title:"登录"}},{path:"*",name:"Erro",component:b,meta:{title:"错误"}}],scrollBehavior:function(t,e,a){return{x:0,y:0}}}),C=a("mtWM"),k=a.n(C),$=a("woOf"),x=a.n($),M=a("//Fk"),E=a.n(M),T=a("BTaQ"),S=a.n(T);a("+skl");k.a.interceptors.request.use(function(t){return S.a.Spin.show(),t},function(t){return E.a.reject(t)}),k.a.interceptors.response.use(function(t){return S.a.Spin.hide(),t},function(t){if(t&&t.response)switch(t.response.status){case 400:t.message="错误请求";break;case 401:t.message="未授权，请重新登录";break;case 403:t.message="拒绝访问";break;case 404:t.message="请求错误,未找到该资源";break;case 405:t.message="请求方法未允许";break;case 408:t.message="请求超时";break;case 500:t.message="服务器端出错";break;case 501:t.message="网络未实现";break;case 502:t.message="网络错误";break;case 503:t.message="服务不可用";break;case 504:t.message="网络超时";break;case 505:t.message="http版本不支持该请求";break;default:t.message="连接错误"+t.response.status}else t.message="连接到服务器失败";return S.a.Spin.hide(),S.a.Modal.error({title:"警告",scrollable:!0,content:t.message}),E.a.resolve(t.response)});var I=function(t,e){var a={tokenid:"undefined"===sessionStorage.getItem("tokenid")?"":sessionStorage.getItem("tokenid")},n={method:t.method,url:t.url,timeout:1e4,data:x()(a,e),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};return new E.a(function(t,e){k()(n).then(function(e){!function(t){S.a.Spin.hide(),t.data.code>0&&S.a.Modal.error({title:"警告",scrollable:!0,content:t.data.code})}(e),t(e)}).catch(function(t){!function(t){S.a.Spin.hide(),!t||200!==t.status&&304!==t.status&&400!==t.status||console.log(t)}(t),e(t)})})},F=a("Dd8w"),N=a.n(F),B={login:{url:"/api/v1/login",method:"post"},emailCode:{url:"/api/v1/sendMail",method:"post"},register:{url:"/api/v1/register",method:"post"},loginVerification:{url:"/api/v1/geetest?t="+(new Date).getTime(),method:"get"}},R=N()({},B),U=a("NYxO");n.default.use(U.a);var z=new U.a.Store({state:{emailVerify:/^([0-9A-Za-z\-_\.]+)@([0-9a-z\.]+[a-z]{2,3}(\.[a-z]{2})?)$/i,activename:"1",token:""}}),V=a("7t+N"),j=a.n(V);a("erWL");n.default.config.productionTip=!1,n.default.use(S.a),y.beforeEach(function(t,e,a){t.meta.title&&(document.title=t.meta.title),t.meta.requireAuth?z.state.token?a():a({path:"/login",query:{route:t.fullPath}}):a()}),k.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",k.a.defaults.headers.get["Content-Type"]="application/x-www-form-urlencoded",k.a.defaults.transformRequest=[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],n.default.prototype.$http=k.a,n.default.prototype.http=I,n.default.prototype.ApiSetting=R,new n.default({el:"#app",router:y,store:z,$:j.a,components:{App:o},template:"<App/>"})},apQl:function(t,e){},bBhg:function(t,e){},erWL:function(t,e){},gtWv:function(t,e){},h7o9:function(t,e){},"nKb+":function(t,e,a){"use strict";(function(t){var n=a("LYp2"),i=a("7Xp9");a("GnUe");e.a={name:"Login",data:function(){return{loading:!1,email:"",password:"",geetest_challenge:"1",geetest_validate:"",geetest_seccode:""}},components:{Header:n.a,Footer:i.a},methods:{submitBtn:function(){var e=this,a=this.$store.state.emailVerify;this.email.length?a.test(this.email)?this.password.length?(this.loading=!0,this.geetest_challenge=t(".geetest_form input[name^='geetest_challenge']").val(),this.geetest_validate=t(".geetest_form input[name^='geetest_validate']").val(),this.geetest_seccode=t(".geetest_form input[name^='geetest_seccode']").val(),this.http(this.ApiSetting.login,{email:this.email,password:this.password,geetest_challenge:this.geetest_challenge,geetest_validate:this.geetest_validate,geetest_seccode:this.geetest_seccode}).then(function(t){if(e.loading=!1,0===t.data.code){e.$Modal.error({title:"提示",scrollable:!0,content:"登录成功"}),e.$store.state.token=t.data.data.token,sessionStorage.token=t.data.data.token;var a=e.$route.query.route;a?e.$router.push({path:a}):e.$router.push({path:"/"})}else 1e5===t.data.code&&e.$Modal.error({title:"提示",scrollable:!0,content:"请先完成验证"})},function(t){console.log(t)})):this.$Modal.error({title:"警告",scrollable:!0,content:"请填写您的密码"}):this.$Modal.error({title:"警告",scrollable:!0,content:"请检查邮箱格式"}):this.$Modal.error({title:"警告",scrollable:!0,content:"请先填写邮箱"})},handlerEmbed:function(e){e.appendTo("#embed-captcha"),e.onReady(function(){t("#wait")[0].className="hide"})}},mounted:function(){var t=this;this.http(this.ApiSetting.loginVerification).then(function(e){var a=e.data.data;console.log(a),initGeetest({gt:a.gt,width:"100%",challenge:a.challenge,new_captcha:a.new_captcha,product:"embed",offline:!a.success},t.handlerEmbed)},function(t){console.log(t)}),this.$store.state.activename="2";var e=this;if(document.onkeydown=function(t){13==window.event.keyCode&&e.submitBtn()},null!==sessionStorage.getItem("token")){var a=this;this.$Modal.error({title:"警告",scrollable:!0,content:"您已登录，请不要重复登录",onOk:function(){var t=a.$route.query.route;t?a.$router.push({path:t}):a.$router.push({path:"/"})}})}}}}).call(e,a("7t+N"))},rQcY:function(t,e){},sNbj:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7c9ee8f0393f0dc8deea.js.map